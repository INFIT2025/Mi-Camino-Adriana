<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INFIT - Dashboard de H√°bitos</title>
    <!-- Carga de Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Fuente Inter para un estilo moderno y legible */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d0d0d;
            color: #f5f5f5;
        }
        /* Definici√≥n del color de acento de INFIT */
        .text-infit-orange { color: #e59902; }
        .bg-infit-orange { background-color: #e59902; }
        .border-infit-orange { border-color: #e59902; }
        /* Estilo base para las celdas del calendario */
        .calendar-day {
            /* Ajuste responsivo de altura */
            min-height: 80px; /* Base para m√≥vil */
            @media (min-width: 640px) { /* sm breakpoint */
                min-height: 100px;
            }
            /* Se ha ajustado 'flex-col justify-between' para que el seguimiento diario est√© al fondo */
            @apply flex flex-col justify-between p-2 rounded-lg text-xs transition-all duration-300 cursor-pointer; 
        }
        /* Estilos espec√≠ficos */
        .day-reminder {
            /* Reto de Eliminaci√≥n (Domingo) */
            @apply bg-red-700 bg-opacity-20 border-2 border-red-600;
        }
        .day-motivation {
            /* Frase Motivacional (Lunes - S√°bado) */
            @apply bg-blue-700 bg-opacity-20 border-2 border-blue-600;
        }
        .day-evaluation {
            /* Alerta de Evaluaci√≥n (5 Nov) */
            @apply bg-green-700 bg-opacity-20 border-2 border-green-600;
        }
        /* Estilo para los inputs guardados */
        .saved-input {
            transition: all 0.3s ease;
        }
        .saved-input:focus {
            box-shadow: 0 0 0 3px rgba(229, 153, 2, 0.5);
        }
    </style>
    
    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, onSnapshot, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Establecer nivel de log para depuraci√≥n de Firestore
        setLogLevel('debug');
        
        // --- Variables Globales y Firebase ---
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : null;
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        let db;
        let auth;
        let userId = 'loading'; // Estado inicial

        // Debounce utility to prevent too many Firestore writes
        let debounceTimer;
        const debounce = (callback, time) => {
            window.clearTimeout(debounceTimer);
            window.setTimeout(callback, time);
        };
        
        // --- Configuraci√≥n y Datos del Calendario (Mantenidos) ---
        // Fechas del calendario: 06 de Octubre al 06 de Noviembre de 2025
        const startDate = new Date('2025-10-06T00:00:00'); 
        const endDate = new Date('2025-11-06T00:00:00');
        const calendarGrid = document.getElementById('calendar-grid');
        
        // Almacena el estado de cada d√≠a { 'YYYY-MM-DD': 'check' | 'cross' | null }
        window.dayStatus = {}; // Ahora se llenar√° desde Firestore

        const MOTIVATION_PHRASES = {
            'check': "¬°Buen trabajo! üí™",
            'cross': "Un paso a la vez. ¬°Ma√±ana lo logras! üöÄ"
        };
        
        const sundayReminders = [
            'Refresco y alcohol üö´', 'Frituras üçü', 'Harinas refinadas ü•ñ', 'Dulces procesados üç¨',
        ];
        
        // NUEVAS FRASES: Progresi√≥n por semana (4 semanas completas + inicio de la 5ta)
        const WEEKLY_MOTIVATIONS = [
            { 
                title: 'Semana 1: Cimiento', 
                phrase: 'El inicio es la mitad del camino. Establece tus bases con compromiso y enfoque diario. ¬°T√∫ puedes!' 
            },
            { 
                title: 'Semana 2: Consistencia', 
                phrase: 'La fuerza no viene de lo que puedes hacer, sino de superar lo que cre√≠ste no poder. ¬°Mant√©n el ritmo!' 
            },
            { 
                title: 'Semana 3: Resultados', 
                phrase: 'Siente la energ√≠a. Cada elecci√≥n inteligente que haces ahora se transforma en tu bienestar futuro. ¬°Ya lo est√°s logrando!' 
            },
            { 
                title: 'Semana 4: Cierre', 
                phrase: 'Eres imparable. Utiliza la disciplina de estas semanas para prepararte para tu pr√≥xima gran meta y evaluaci√≥n.' 
            },
            { 
                title: 'Semana 5: Visi√≥n', 
                phrase: 'Tu mejor versi√≥n es un proceso continuo. Mira hacia adelante y planifica el siguiente paso.' 
            }
        ];


        // --- FIREBASE: Funciones de acceso a datos ---
        
        function getGoalDocRef() {
            if (!db || !userId || userId === 'loading') return null;
            // Ruta de datos privada por usuario (Metas y Calendario)
            const docPath = `/artifacts/${appId}/users/${userId}/goals/user_data`;
            return doc(db, docPath);
        }
        
        // Funci√≥n para guardar objetivo
        window.saveGoal = function(fieldId) {
            debounce(async () => {
                const docRef = getGoalDocRef();
                if (!docRef) {
                    console.error("Firestore DB no est√° listo o falta el ID de usuario.");
                    return;
                }

                const inputElement = document.getElementById(fieldId);
                if (!inputElement) return;

                const data = {};
                // Guardar la meta espec√≠fica
                data[fieldId] = inputElement.value;

                try {
                    await setDoc(docRef, data, { merge: true });
                    console.log(`Objetivo guardado: ${fieldId}`);
                } catch (error) {
                    console.error("Error al guardar objetivo:", error);
                }
            }, 1000); // 1 segundo de debounce
        };

        // NUEVA FUNCI√ìN: Guardar el estado de un d√≠a espec√≠fico del calendario
        async function saveDayStatus(dateKey, newStatus) {
            const docRef = getGoalDocRef();
            if (!docRef) {
                console.error("Firestore DB no est√° listo o falta el ID de usuario.");
                    return;
            }

            // Guardar el estado en el mapa 'dayStatus' dentro del documento de Firestore
            const data = {
                dayStatus: {
                    [dateKey]: newStatus // Esto actualiza solo el d√≠a espec√≠fico
                }
            };

            try {
                // Merge para no sobreescribir las metas de texto
                await setDoc(docRef, data, { merge: true }); 
                console.log(`Estado del d√≠a ${dateKey} guardado: ${newStatus}`);
            } catch (error) {
                console.error("Error al guardar estado del d√≠a:", error);
            }
        }


        // Funci√≥n para cargar todos los datos (Metas y Calendario) en tiempo real
        function loadUserData() {
            const docRef = getGoalDocRef();
            if (!docRef) return;

            // Escuchar cambios en tiempo real (onSnapshot)
            onSnapshot(docRef, (docSnap) => {
                if (docSnap.exists()) {
                    const data = docSnap.data();
                    console.log("Datos cargados:", data);
                    
                    // --- Cargar Metas (Inputs de texto) ---
                    const goalGeneral = document.getElementById('goal-general');
                    const goalMonthly = document.getElementById('goal-monthly');

                    if (data['goal-general']) { goalGeneral.value = data['goal-general']; }
                    if (data['goal-monthly']) { goalMonthly.value = data['goal-monthly']; }

                    // --- Cargar Estado del Calendario ---
                    if (data.dayStatus) {
                        window.dayStatus = data.dayStatus;
                        // Forzar la actualizaci√≥n visual de todos los d√≠as cargados
                        Object.keys(window.dayStatus).forEach(key => {
                            updateStatusView(key, window.dayStatus[key] || 'none');
                        });
                    }
                } else {
                    console.log("No se encontraron datos guardados.");
                }
            }, (error) => {
                console.error("Error al escuchar datos:", error);
            });
        }
        
        function setupInputListeners() {
            document.getElementById('goal-general').addEventListener('input', () => window.saveGoal('goal-general'));
            document.getElementById('goal-monthly').addEventListener('input', () => window.saveGoal('goal-monthly'));
        }

        // --- CALENDAR LOGIC ---
        
        function getDateKey(date) {
            return date.toISOString().substring(0, 10);
        }

        window.toggleDayStatus = function(dateKey) {
            let currentStatus = window.dayStatus[dateKey] || 'none';
            let newStatus;

            if (currentStatus === 'none') {
                newStatus = 'check';
            } else if (currentStatus === 'check') {
                newStatus = 'cross';
            } else {
                newStatus = 'none'; 
            }

            // 1. Actualizar estado local
            window.dayStatus[dateKey] = newStatus === 'none' ? null : newStatus;
            
            // 2. Actualizar vista
            updateStatusView(dateKey, newStatus);
            
            // 3. Guardar en Firestore (Nueva llamada)
            saveDayStatus(dateKey, window.dayStatus[dateKey]); // <-- Esto guarda el progreso
        }

        function updateStatusView(dateKey, status) {
            const statusIcon = document.getElementById(`status-icon-${dateKey}`);
            const feedbackText = document.getElementById(`feedback-text-${dateKey}`);
            const statusContainer = document.getElementById(`status-container-${dateKey}`);

            if (!statusIcon || !feedbackText) return; 

            let iconHtml = 'üîò';
            let phrase = 'Toca para registrar';

            statusContainer.classList.remove('text-green-500', 'text-red-500', 'text-gray-500');

            if (status === 'check') {
                iconHtml = '‚úÖ';
                phrase = MOTIVATION_PHRASES.check;
                statusContainer.classList.add('text-green-500');
            } else if (status === 'cross') {
                iconHtml = '‚ùå';
                phrase = MOTIVATION_PHRASES.cross;
                statusContainer.classList.add('text-red-500');
            } else {
                statusContainer.classList.add('text-gray-500');
            }

            statusIcon.textContent = iconHtml;
            feedbackText.textContent = phrase;
        }


        function renderCalendar() {
            let currentDate = new Date(startDate);
            let reminderIndex = 0; 
            
            if (!calendarGrid) return;
            calendarGrid.innerHTML = ''; 
            
            let weeklyMotivationIndex = 0; // Inicia el contador de semanas para las frases

            // --- Prepending Blanks (Ajustado para la cuadr√≠cula de 8 columnas) ---
            const startDayOfWeek = currentDate.getDay(); // 0=Dom, 1=Lun, ..., 6=S√°b
            // leadingBlanks cuenta cu√°ntos d√≠as antes de Lun (1) hay en la primera fila.
            // Si el d√≠a de inicio es Lunes (1), no hay relleno (1-1=0). Si es Jueves (4), hay 3 rellenos (4-1=3).
            // Si es Domingo (0), se necesitan 6 rellenos para llegar a Lun(1) de la siguiente semana.
            const leadingBlanks = startDayOfWeek === 0 ? 6 : startDayOfWeek - 1; 
            
            if (leadingBlanks > 0) {
                 // Relleno para la Columna de Motivaci√≥n (Col 1) de la primera fila.
                 calendarGrid.innerHTML += '<div class="calendar-day bg-transparent border-none shadow-none cursor-default"></div>'; 
                 
                 // Relleno para los d√≠as de la semana (Col 2 en adelante)
                 for (let i = 0; i < leadingBlanks; i++) {
                      calendarGrid.innerHTML += '<div class="calendar-day bg-transparent border-none shadow-none cursor-default"></div>';
                 }
            }
            // --- Fin Prepending Blanks ---


            while (currentDate.getTime() <= endDate.getTime()) {
                const dateKey = getDateKey(currentDate);
                const day = currentDate.getDate();
                // El mes es base 0, por lo que Noviembre (10) es el 10
                const month = currentDate.getMonth(); 
                const dayOfWeek = currentDate.getDay(); // 0=Dom, 1=Lun, ..., 6=S√°b
                
                let dayClasses = 'bg-gray-700 hover:bg-gray-600';
                let content = `<span class="text-xl font-extrabold text-white">${day}</span>`;
                let infoBlock = '';

                // Obtener el estado actual (si se carg√≥ desde Firestore, se usar√° aqu√≠)
                const currentStatus = window.dayStatus[dateKey] || 'none';
                let statusIcon = 'üîò';
                let statusPhrase = 'Toca para registrar';
                let statusColor = 'text-gray-500';

                // Inicializar la vista con el estado cargado
                if (currentStatus === 'check') {
                    statusIcon = '‚úÖ';
                    statusPhrase = MOTIVATION_PHRASES.check;
                    statusColor = 'text-green-500';
                } else if (currentStatus === 'cross') {
                    statusIcon = '‚ùå';
                    statusPhrase = MOTIVATION_PHRASES.cross;
                    statusColor = 'text-red-500';
                }

                
                // --- 1. COLUMNA DE MOTIVACI√ìN SEMANAL (COLUMNA 1 - Solo se inserta los LUNES) ---
                // Cuando es Lunes, insertamos la celda de Motivaci√≥n que ir√° en la primera columna de la nueva fila.
                if (dayOfWeek === 1) { 
                    // Obtener el objeto de frase para la semana actual, usando la √∫ltima como default
                    const motivationData = WEEKLY_MOTIVATIONS[weeklyMotivationIndex] || WEEKLY_MOTIVATIONS[WEEKLY_MOTIVATIONS.length - 1];

                    const motivationCell = `
                        <!-- Columna de Foco Semanal: se inserta en Lunes -->
                        <div class="calendar-day day-motivation bg-blue-900/40 border-r-2 border-infit-orange/50 shadow-inner col-span-1 p-2">
                            <span class="text-xs font-semibold text-infit-orange uppercase mb-1 block">${motivationData.title}</span>
                            <details class="text-center w-full mt-1 flex-grow flex flex-col justify-center">
                                <summary class="font-bold text-white text-xs sm:text-sm cursor-pointer hover:text-blue-300 p-1 leading-tight">
                                    Click para leer tu Foco Semanal
                                </summary>
                                <p class="italic text-blue-300 text-[0.6rem] sm:text-xs p-1">${motivationData.phrase}</p>
                            </details>
                        </div>
                    `;
                    calendarGrid.innerHTML += motivationCell;
                    
                    // Incrementamos el √≠ndice para la pr√≥xima semana (que empezar√° el siguiente Lunes)
                    weeklyMotivationIndex++;
                }
                
                // --- 2. D√çA ESPEC√çFICO (COLUMNA 2 a 8) ---
                
                // LUNES a S√ÅBADO: Se aplica el estilo de motivaci√≥n.
                if (dayOfWeek !== 0) {
                    dayClasses = 'day-motivation hover:bg-blue-800/40';
                    // Nota: Se ha eliminado el infoBlock de frase de aqu√≠, pues ahora est√° en la columna 1.
                }

                // DOMINGO: Reto de Eliminaci√≥n (dayOfWeek === 0)
                if (dayOfWeek === 0) {
                    if (reminderIndex < sundayReminders.length) {
                        dayClasses = 'day-reminder hover:bg-red-800/40';
                        infoBlock = `
                            <div class="mt-2 text-center">
                                <p class="font-bold text-red-500 text-sm">Reto de Eliminaci√≥n</p>
                                <p class="font-semibold text-red-400 text-xs">${sundayReminders[reminderIndex]}</p>
                            </div>
                        `;
                        reminderIndex++;
                    } else {
                        // Domingo sin evento especial
                        dayClasses = 'bg-gray-800 border border-gray-700 hover:bg-gray-700';
                    }
                }
                
                // ALERTA DE EVALUACI√ìN (5 de Noviembre) (PRIORIDAD ALTA)
                if (month === 10 && day === 5) { 
                    dayClasses = 'day-evaluation animate-pulse hover:bg-green-800/40';
                    infoBlock = `<p class="font-bold text-lg text-green-400 text-center mt-2">¬°EVALUACI√ìN! üéØ</p><p class="text-xs text-green-300 text-center">Agenda tu cita para la pr√≥xima revisi√≥n.</p>`;
                }
                
                // Bloque de Seguimiento Diario (Paloma/Tache)
                const infoBlockClass = infoBlock ? 'flex-grow' : '';

                const trackingBlock = `
                    <div id="tracking-block-${dateKey}" onclick="toggleDayStatus('${dateKey}')" 
                         class="mt-1 p-1 rounded-md bg-gray-900/50 hover:bg-gray-900 transition-colors duration-200">
                        <div id="status-container-${dateKey}" class="flex flex-col items-center justify-center gap-0 font-bold ${statusColor}">
                            <span id="status-icon-${dateKey}" class="text-xl leading-none">${statusIcon}</span>
                            <span id="feedback-text-${dateKey}" class="text-[0.6rem] leading-tight">${statusPhrase}</span>
                        </div>
                    </div>
                `;
                
                // Envuelve infoBlock en un div para manejar el layout flex-grow
                const wrappedInfoBlock = infoBlock ? `<div class="${infoBlockClass}">${infoBlock}</div>` : '';


                const monthName = currentDate.toLocaleDateString('es-ES', { month: 'short' });

                const dayHtml = `
                    <div class="calendar-day ${dayClasses} shadow-lg border border-gray-800">
                        ${content}
                        ${wrappedInfoBlock}
                        ${trackingBlock} 
                        <span class="text-[0.6rem] text-gray-500 self-end">${monthName.charAt(0).toUpperCase() + monthName.slice(1)}</span>
                    </div>
                `;
                
                calendarGrid.innerHTML += dayHtml;

                currentDate.setDate(day + 1);
            }
        }

        // --- FIREBASE INITIALIZATION ---
        async function initApp() { 
            // 1. Renderizar el calendario de inmediato.
            renderCalendar(); 
            
            if (!firebaseConfig) {
                console.error("Firebase config is missing.");
                return;
            }

            try {
                const app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);
            
                // 2. Autenticaci√≥n (an√≥nima o con token)
                if (initialAuthToken) {
                    await signInWithCustomToken(auth, initialAuthToken);
                } else {
                    await signInAnonymously(auth);
                }
            } catch (error) {
                console.error("Firebase Initialization or Authentication failed:", error);
                return;
            }
            
            // 3. Esperar la confirmaci√≥n del estado de autenticaci√≥n
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    userId = user.uid;
                    console.log("Authenticated with User ID:", userId);
                    loadUserData(); // <-- Esta funci√≥n carga los datos guardados del calendario y metas
                    setupInputListeners(); // Adjuntar listeners de objetivos
                } else {
                    console.error("User is not signed in.");
                    userId = 'anonymous'; 
                }
            });
        }

        // Ejecutar la funci√≥n de inicializaci√≥n
        document.addEventListener('DOMContentLoaded', initApp); 

    </script>
</head>
<body class="bg-[#1a1a1a] min-h-screen p-4 sm:p-8 flex flex-col items-center text-white">

    <!-- Header -->
    <header class="w-full max-w-6xl text-center mb-8">
        <div class="mb-4">
            <!-- LOGO INFIT: Usando la ruta relativa para GitHub -->
            <img src="logo-infit.jpg" alt="Logotipo INFIT" class="w-20 h-20 mx-auto rounded-full object-cover bg-black p-1">
            <h1 class="text-4xl font-extrabold text-white mb-1">MI CAMINO HACIA MI MEJOR VERSI√ìN</h1>
        </div>
        <p class="text-xl text-infit-orange font-semibold mb-4">Adriana</p>
    </header>

    <!-- Main Content Container -->
    <main class="w-full max-w-6xl bg-[#222222] p-6 rounded-3xl shadow-2xl border border-gray-700">

        <!-- Secci√≥n de ACTUALIZACI√ìN DE PROGRESO -->
        <div class="w-full p-4 mb-8 bg-gray-900 rounded-xl border-l-4 border-infit-orange shadow-md">
            <h3 class="text-lg font-bold text-white mb-3 flex items-center gap-2">
                <span class="text-infit-orange">üîî</span> Actualizaci√≥n de tu progreso Adriana
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-3 text-sm">
                <div class="bg-gray-800 p-3 rounded-lg">
                    <p class="text-xs text-infit-orange font-semibold">Comenzaste con:</p>
                    <p class="font-bold">‚öñÔ∏è Peso: 83.75 kg | Grasa: 44.4% | M√∫sculo: 42.2 kg</p>
                </div>
                <div class="bg-gray-800 p-3 rounded-lg">
                    <p class="text-xs text-infit-orange font-semibold">Hoy tus nuevos datos son:</p>
                    <p class="font-bold">‚öñÔ∏è Peso: 76.90 kg | Grasa: 41.7% | M√∫sculo: 53.1 kg</p>
                </div>
                <div class="bg-gray-800 p-3 rounded-lg col-span-1 md:col-span-1">
                    <p class="text-xs text-infit-orange font-semibold">‚û°Ô∏è Progreso total:</p>
                    <p class="font-bold text-green-400">Bajaste 6.85 kg de peso total y ganaste casi 11 kg de m√∫sculo. üëèüî•</p>
                </div>
            </div>
        </div>

        <!-- Secci√≥n de Metas y Progreso -->
        <div class="w-full mb-10">
            <h2 class="text-3xl font-bold text-white mb-4 border-b border-gray-700 pb-2">
                <span class="text-infit-orange">üöÄ</span> TUS OBJETIVOS
            </h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- Tarjeta 1: Objetivo General (3-6 meses) -->
                <div class="bg-gray-800 p-6 rounded-xl border-l-4 border-infit-orange shadow-md">
                    <label for="goal-general" class="text-lg font-bold text-infit-orange block mb-2">Objetivo General (3-6 meses)</label>
                    <input type="text" id="goal-general" value="Ej: Ir a la playa con un 3% menos de grasa corporal." class="w-full bg-gray-900 text-gray-300 p-3 rounded-lg border border-gray-700 focus:outline-none focus:border-infit-orange saved-input" placeholder="Ej: Bajar 10 kg, vacaciones, evento especial..." oninput="saveGoal('goal-general')">
                </div>

                <!-- Tarjeta 2: Objetivo del Mes (Realista) -->
                <div class="bg-gray-800 p-6 rounded-xl border-l-4 border-infit-orange shadow-md">
                    <label for="goal-monthly" class="text-lg font-bold text-infit-orange block mb-2">Meta del Mes (Sencilla y Realista)</label>
                    <input type="text" id="goal-monthly" value="Ej: Beber 2.5 litros de agua diarios y dormir 7 horas." class="w-full bg-gray-900 text-gray-300 p-3 rounded-lg border border-gray-700 focus:outline-none focus:border-infit-orange saved-input" placeholder="Ej: No comer postre despu√©s de las 8pm, 3 litros de agua..." oninput="saveGoal('goal-monthly')">
                </div>
            </div>
        </div>

        <!-- Sugerencia L-Carnitina -->
        <div class="w-full p-4 mb-8 bg-gray-900 rounded-xl border-l-4 border-gray-500 text-sm text-center italic">
            <p>
                <span class="text-infit-orange font-bold">Sugerencia INFIT:</span> Para potenciar tus resultados y la movilizaci√≥n de grasa, recuerda que cuentas con la opci√≥n de integrar <strong class="text-white">L-Carnitina</strong> a tu plan.
            </p>
        </div>
        
        <!-- Secci√≥n de INVITACI√ìN / REFERIDOS (WHATSAPP) -->
        <div class="w-full p-6 mb-10 bg-gray-900 rounded-xl border-l-8 border-infit-orange shadow-lg">
            <h3 class="text-2xl font-bold text-infit-orange mb-3 flex items-center gap-3">
                <!-- Icono de Usuarios (Lucide Users-2) -->
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users-2"><path d="M14 19a6 6 0 0 0-12 0"/><circle cx="8" cy="10" r="4"/><path d="M22 19a6 6 0 0 0-6-6 4 4 0 1 0 0-8"/></svg>
                ¬°Inspira a alguien m√°s!
            </h3>
            <p class="text-gray-300 mb-4 text-sm">
                Invita a un amigo o familiar a unirse al programa <strong>"Mi Mejor Versi√≥n"</strong> (Planes + L-Carnitina) y <strong>ambos obtengan beneficios especiales üéÅ</strong>.
            </p>
            <div class="bg-gray-800 p-4 rounded-lg mb-4">
                <p class="font-semibold text-white mb-2">¬øQui√©n puede unirse?</p>
                <p class="text-xs text-gray-400">
                    Personas de nuestra comunidad en <strong>Santa Ana</strong> o en cualquier parte de <strong>Estados Unidos</strong>. ¬°Que tu impacto no tenga l√≠mites!
                </p>
            </div>
            <!-- Bot√≥n de Acci√≥n - Enlace de WhatsApp precargado con el formato solicitado -->
            <a href="https://wa.me/5217751056744?text=Hola%20%F0%9F%91%8B%2C%20soy%20Adriana.%20%0A%0AQuiero%20recomendar%20a%20un%20amigo%2Ffamiliar%20para%20el%20programa%0A%22Mi%20Mejor%20Versi%C3%B3n%22%20%0Ay%20obtener%20los%20beneficios%20%F0%9F%8E%81.%0A%0A%F0%9F%93%B2Este%20es%20su%20nombre%20y%20n%C3%BAmero%0Ade%20contacto%20para%20que%20reciba%20la%20info%3A" 
               target="_blank" 
               class="mt-2 inline-block w-full text-center py-3 px-6 rounded-xl font-bold text-gray-900 bg-infit-orange hover:bg-yellow-600 transition duration-300 transform hover:scale-[1.01] shadow-lg">
                ¬°Quiero recomendar a un amigo por WhatsApp! üì≤
            </a>
            <p class="text-center text-xs text-gray-500 mt-2">Al hacer click se abrir√° WhatsApp con un mensaje pre-escrito para iniciar la recomendaci√≥n.</p>
        </div>

        <!-- Calendario de H√°bitos -->
        <h2 class="text-3xl font-bold text-white mb-4 border-b border-gray-700 pb-2">
            <span class="text-infit-orange">üìÖ</span> CALENDARIO DE H√ÅBITOS (06 OCT - 06 NOV)
        </h2>
        
        <!-- Nuevo Header de 8 Columnas -->
        <div class="grid grid-cols-8 gap-1 text-center font-bold text-infit-orange mb-3 text-sm">
            <span>Foco Semanal</span><span>Lun</span><span>Mar</span><span>Mi√©</span><span>Jue</span><span>Vie</span><span>S√°b</span><span>Dom</span>
        </div>
        
        <!-- Nueva Grid de 8 Columnas -->
        <div id="calendar-grid" class="grid grid-cols-8 gap-1">
            <!-- Los d√≠as se insertar√°n aqu√≠ por JavaScript -->
        </div>
    </main>
</body>
</html>
